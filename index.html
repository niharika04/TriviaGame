<!DOCTYPE html>
<html lang="en-us">
<head>
	<meta charset="utf-8">
	<title>Trivia Game</title>
	<link rel="stylesheet" type="text/css" href="assets/css/style.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Risque" rel="stylesheet">
</head>
<body>
	
	
	<br>
	<br>
	<div class="body">
		<br>

		<h1>Totally Trivial Trivia!</h1>
		
		
		<div class="timer"> <span  id="counter"></span></div>
		<br>
		<br>
		<br>
		<div class="quiz">
	        <div class="question "></div>
	        <div id="choiceItems">
	        	<ul class="choiceList"></ul>
	       	</div>
        </div>

       

	    <div class="quizMessage"></div>
        <div class="result"></div>
		
	  
	  	
	  	
		
		
		<br>
		<br>
		<button id="s-button" type="button" class="btn btn-outline-light btn-lg">Start</button>
		<div >
			<button id="submit" type="button" class="btn btn-outline-light btn-lg">Submit</button>
		</div>
	</div>
	

	 <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

	<script type="text/javascript">

    $(document).ready(function() {

    	// creating a an object for questions, choices and correct answer
    	$("#submit").hide();
    	$(".questions").css("display", "none");
		

		var questions = [{
			question : "Which language is used for styling webpages?",
			choices : ["HTML", "jQuery", "Javascript", "CSS"], 
			answer : "CSS"
		},
		
			{question : "Which language is used for web applications?",
			choices :["PHP", "python", "Javascript", "All"],
			answer : "All"
		},
			
			{question : "Who is making the Web standards?",
			choices : ["Microsoft" , "Google", "Mozilla", "The World Wide Web Consortium"], 
			answer : "The World Wide Web Consortium"
		},
		 
			{question : "How do you write 'Hello World' in an alert box?" ,
			choices : ["alertBox('Hello World')", "msgBox('Hello World')", "alert('Hello World')", "msg('Hello World')"],
			answer : "alert('Hello World')"
		}];

		var gif = ["assets/images/Bounce-text-animation.gif", "assets/images/website.gif", "assets/images/www.gif", "assets/images/hello.gif"];
		var showQuestion;
		var count = 0;
		var answerToQuestion;
		var correctAnswers;
		var wrongAnswers;
		var unanswered;
		var checked = null;
		var clockRunning = true;

    	
		
    	// Interval demonstration
    	// set our number counter to 30.
    	var counter = 5;

    	//variable that will hold our intervalId
    	var intervalId;


    		
    //  The run function sets an interval
    //  that runs the decrement function once a second.
		 function start() {
		 	console.log("Start")
		 	if (clockRunning) {
		   	intervalId = setInterval(decrement, 1000);
		   
		   	// $("#submit").toggle();
		   
			}
		}

		 //  The decrement function.
		function decrement() {
		     counter--;

		      if (counter >= 0) {
		        $(".timer").html("Time remaining: " + counter + "s")
		         
		      }
		      if (counter === 0) {
		         $(".timer").html("Out of time!");
		         clearInterval(counter);
		         
		        
		       }
		      counter = 5; 
		}


    	$("#s-button").on("click", function(){
    			$("#s-button").hide();

		   	$(".questions").toggle();

    		
    		questionShown();
    		startSlideshow();
    		
    		
			
    	});
		
	   

	function questionShown() {
		 console.log("in questionShown")
		 start();

	   
		 console.log("lock is running (qs)")
		
			// $(".quiz").html("<p>" + questions[count].question + "</p>");
			$(".quiz").html("<form> <p>" + questions[count].question + "</p><p id='choices'> 1." + questions[count].choices[0] + "</p><p id='choices'> 2." + questions[count].choices[1] + "</p><p id='choices'> 3." + questions[count].choices[2] + "</p><p id='choices'> 4." + questions[count].choices[3] + "</p></form>" );
			
	}
	clockRunning = false;
	nextImage();



	function nextImage() {
	  	console.log("in next image")
		if(!clockRunning) {
		
			 console.log("clock is not running (ni)")
				
			$(".quiz").html("<img src ='" + gif[count] +"' width='500px' height = '300px'/>");
			count++;
			
			setTimeout(questionShown, 1000);
			// setTimeout(start, 6000);
			


			if (count === questions.length) {

				// count = 0;
				$("#submit").show();

				stopSlideshow();
			} else {
				
			}

		}
		
	}
	

	function startSlideshow() {

		showQuestion = setInterval(nextImage, 5000);
		

			
	}

	function stopSlideshow() {
		clearInterval(showQuestion);
	}

	
	// $("#rbutt").on("click", chosenAnswer);

	// 	function chosenAnswer () {
	// 	for (var i = 0; i<questions[i].choices[i].length; i++){
	// 		if (checked == true){
	// 			answerToQuestion = questions[i].choices[i].value;
	// 			console.log(answerToQuestion);
	// 			if (answerToQuestion == questions[i].correctAnswer){
	// 				correctAnswers ++;
	// 			} else {
	// 				wrongAnswers ++;
	// 			}
	// 		} else if (checked == null) {
	// 			unanswered ++;
	// 		}
	// 	}

		

	// }

	

	// function submit() {

	// 	$("#submit").hide();
		
	// 	$(".quiz").html("<h1> " + correctAnswers + "</h1>");
	// 	$(".quiz").html("<h1> " + wrongAnswers + "</h1>");
	// 	$(".quiz").html("<h1> " + unanswered + "</h1>");

	// 	}

	// 	$(".submit").on("click",done);

 });

		

	</script>

</body>
</html>

